if (self.CavalryLogger) { CavalryLogger.start_js(["BuwQ0"]); }

__d("MWChatHasSearchTabContent.bs",["React","MWChatMultitabStateHook.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=b("MWChatMultitabStateHook.bs").useHook_DEPRECATED(0);return g.useCallback(function(a){a=c.openTabsState.find(function(a){return a.threadID===0});if(a!==void 0)return a.hasContent.contents;else return!1},[c])}f.useHook=a}),null);
__d("MWChatBlurNewTab.bs",["React","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,4);else return 0},[c])}f.useHook=a}),null);
__d("MWChatFocusNewTab.bs",["React","MWChatMultitabContext.bs","MWChatMultitabDispatcher.bs"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a){var c=g.useContext(b("MWChatMultitabContext.bs").context);return g.useCallback(function(a){if(c!==void 0)return b("MWChatMultitabDispatcher.bs").dispatch(void 0,c,5);else return 0},[c])}f.useHook=a}),null);
__d("MWChatHeaderNew.bs",["fbt","cssVar","bs_curry","React","MWTheme.bs","stylex","CometPressable.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=b("React"),k={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a",paddingEnd:"hv4rvrfc",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",boxShadow:"pcdcaq2l",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},title:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",fontWeight:"ekzkrbhg",color:"oo9gr5id"}};function a(a){var c=a.isTabFocused,d=a.closeChatTab;a=a.title;c=c?b("MWTheme.bs").top(b("MWTheme.bs").$$default):"#bec2c9";c=j.jsxs("svg",{children:[j.jsx("line",{stroke:c,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"6",y2:"18"}),j.jsx("line",{stroke:c,strokeLinecap:"round",strokeWidth:"2",x1:"6",x2:"18",y1:"18",y2:"6"})],height:"30px",width:"30px",viewBox:"0 0 24 24"});return j.jsxs("div",{children:[j.jsx("div",{children:a,className:(i||(i=b("stylex")))(k.title)}),j.jsx(b("CometPressable.react"),{"aria-label":g._("Thu nh\u1ecf tab"),onPress:function(a){return b("bs_curry")._1(d,0)},overlayRadius:"50%",children:c})],className:i(k.root)})}c=a;f.styles=k;f.make=c}),null);
__d("CometTokenizerBaseLayoutChatContextualStrategy.react",["fbt","CometTokenizerBaseLayoutContextualStrategy.react","CurrentUser","React","gkx","stylex","useCometSearchInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={layout:{height:"datstx6m",maxWidth:"dl5o5u7s"},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr",width:"k4urcfbm"},view:{backgroundColor:"nred35xi",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"dt9zfp0i",flexShrink:"g5gj957u",minHeight:"tgvbjcpo",width:"fwkrndq2"}};function a(a,c){var d=a.xstyles;d=d===void 0?{}:d;var e=d.viewXStyle;d=babelHelpers.objectWithoutPropertiesLoose(a,["xstyles"]);a=b("useCometSearchInternalTypeaheadStateDispatcher")();var f=a.dispatchIsOpened;i.useEffect(function(){(!b("gkx")("1526694")||b("CurrentUser").isWorkUser())&&f(!0)},[]);a=i.useMemo(function(){return{inputXStyle:j.typeaheadInput,layoutXStyle:j.layout,viewXStyle:[j.view,e]}},[e]);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.to),children:g._("\u0110\u1ebfn:")}),i.jsx(b("CometTokenizerBaseLayoutContextualStrategy.react"),babelHelpers["extends"]({},d,{contextualProps:{align:"start",autoAlign:!0,disablePositionAutoflip:!1},label:g._("T\u00ecm ki\u1ebfm theo t\u00ean ho\u1eb7c nh\u00f3m"),layerContext:"input",ref:c,xstyles:a}))]})}c=i.forwardRef(a);e.exports=c}),null);
__d("MWChatSearchInputStrategy.react",["CometTokenizerBaseInputStrategy.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,c){var d=g.useMemo(function(){return{xstyle:h.inputXStyle}},[]);return g.jsx(b("CometTokenizerBaseInputStrategy.react"),babelHelpers["extends"]({},a,{inputExtraProps:d,ref:c}))}c=g.forwardRef(a);e.exports=c}),null);
__d("MWChatSearchTypeaheadViewItem.react",["CometEmojiTransform","CometEmoticonTransform","CometPageVerificationIcon.react","CometSearchTypeaheadBaseViewItem.react","CometTextWithEntities.react","MWChatFacepile.re","MWChatProfile.re","React","TetraText.react","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("MWChatFacepile.re").make,h=b("MWChatProfile.re").make,i=b("React"),j=[b("CometEmoticonTransform")(),b("CometEmojiTransform")()];function a(a){var c=a.entry;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","queryString"]);var d=c.getRawData(),e;d.secondaryImageUrl!==""?e=i.jsx("div",{className:"qnrpqo6b",children:i.jsx(g,{firstParticipantURI:d.imageUrl,secondParticipantURI:d.secondaryImageUrl,size:28})}):e=i.jsx("div",{className:"qnrpqo6b",children:i.jsx(h,{size:28,src:d.imageUrl})});d=d.verificationStatus;return i.jsx(b("CometSearchTypeaheadBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:c,itemStartContent:e,children:i.jsx("div",{className:"i1fnvgqd cbu4d94t j83agx80",children:i.jsx("div",{className:"hzawbc8m jxrgncrl gjjqq4r6",children:i.jsxs(b("TetraText.react"),{numberOfLines:1,type:"body3",children:[i.jsx(b("CometTextWithEntities.react"),{text:c.getLabel(),transforms:j}),d!=null?i.jsx("span",{className:"l9j0dhe7 scb9dxdr",children:i.jsx(b("CometPageVerificationIcon.react"),{size:"small",verificationBadge:d})}):null]})})})}))}e.exports=a}),null);
__d("MWChatSearchTypeahead.react",["CometRelay","CometTokenizer.react","CometTokenizerBaseLayoutChatContextualStrategy.react","MWChatSearchInputStrategy.react","MWChatSearchTypeaheadDataSource","MWChatSearchTypeaheadViewItem.react","MWChatTokenizerTokenStrategy.react","React","useCometSearchTokenizerBaseListTokenStrategy","useCometSearchTypeaheadBaseListViewStrategy","useCometTokenizerBaseDecorators","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.excludedIDs,d=a.isDisabled,e=a.onAddToken,f=a.onChangeTokens,h=a.onSearchAbandon,i=a.onSearchCompletion;a=a.tokens;var j=g.useState(""),k=j[0];j=j[1];var l=b("CometRelay").useRelayEnvironment(),m=b("useStable")(function(){return new(b("MWChatSearchTypeaheadDataSource"))({excludedIDs:c,limit:7,relayEnvironment:l})});h=b("useCometTokenizerBaseDecorators")({escapeDecorator:{decorate:b("withMWChatEscapeDecorator"),params:{onSearchAbandon:h}},tokenManagementDecorator:{decorate:b("withMWChatSearchTokenManagementDecorator"),params:{dataSource:m}}});var n=b("useCometSearchTypeaheadBaseListViewStrategy")({viewItemStrategyRenderer:b("MWChatSearchTypeaheadViewItem.react")}),o=g.useRef(null),p=o.current;g.useEffect(function(){p&&p.focus()},[p,a]);var q=b("useCometSearchTokenizerBaseListTokenStrategy")({tokenItemRenderer:b("MWChatTokenizerTokenStrategy.react")});return g.jsx(b("CometTokenizer.react"),{autoFocus:!0,dataSource:m,decorators:h,inputStrategyRenderer:b("MWChatSearchInputStrategy.react"),isDisabled:d,layoutStrategyRenderer:b("CometTokenizerBaseLayoutChatContextualStrategy.react"),onAddToken:e,onChange:j,onChangeTokens:f,onSearchCompletion:i,queryString:k,ref:o,testid:void 0,tokens:a,tokensStrategyRenderer:q,viewStrategyRenderer:n})}}),null);
__d("MWChatSearchTypeaheadContainer.react",["CometRelay","MessengerWebStgTypedLoggerLite","MWChatCanonicalGroupSearchQuery","MWChatSearchResultType","MWChatSearchTypeahead.react","MWMSCreateThread","React","compactArray","useMWChatOpenTabForGroup","useMWChatOpenTabForPage","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){var c=a.onChangeIsFetching,d=a.onChangeTokens,e=a.onClosePreview,f=a.onOpenPreviewForGroup,h=a.onOpenPreviewForUser,i=a.onSearchAbandon,j=a.tokens,k=b("CometRelay").useRelayEnvironment(),l=g.useRef(null);a=g.useState(!1);var m=a[0],n=a[1],o=b("useMWChatOpenTabForPage")("search");a=b("useMWChatOpenTabForGroup")("search");var p=a[0];a[1];a=b("useMWChatOpenTabForUser")("search");var q=a[0];a[1];var r=b("MWMSCreateThread").useHook("comet_create_group");a=g.useCallback(function(a){d(function(b){return a});l.current!=null&&l.current.unsubscribe();c(!1);switch(a.length){case 0:e();break;case 1:var g=a[0];g=g.getRawData();g=g.id;h(g);break;default:g=b("compactArray")(a.map(function(a){return a.getRawData().id}));c(!0);l.current=b("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(k,g,{error:function(){c(!1)},next:function(a){c(!1),a!=null?f(a):e()}})}},[d,e,h,c,k,f]);var s=g.useCallback(function(a){a=a.getRawData();var c=a.id;a=a.resultType;switch(a){case b("MWChatSearchResultType").GROUP:b("MessengerWebStgTypedLoggerLite").log({event_name:"search_click_result",thread_fbid:c});p(c);break;case b("MWChatSearchResultType").PAGE:b("MessengerWebStgTypedLoggerLite").log({event_name:"search_click_result",other_user_fbid:c});o(c);break;case b("MWChatSearchResultType").USER:b("MessengerWebStgTypedLoggerLite").log({event_name:"search_click_result",other_user_fbid:c});break;default:return}},[o,p]),t=g.useCallback(function(){if(m)return;l.current!=null&&l.current.unsubscribe();if(j.length===1){var a=j[0];a=a.getRawData();a=a.id;q(a)}if(j.length>1){var d=b("compactArray")(j.map(function(a){return a.getRawData().id}));c(!0);l.current=b("MWChatCanonicalGroupSearchQuery").fetchCanonicalGroupThreadId(k,d,{error:function(){c(!1)},next:function(a){if(a!=null){p(a);return}r(d).then(function(a){p(a)})["catch"](function(){c(!1)})}})}n(!0)},[m,j,c,q,k,p,r]);g.useEffect(function(){return function(){l.current!=null&&l.current.unsubscribe()}},[]);return g.jsx(b("MWChatSearchTypeahead.react"),{isDisabled:m,onAddToken:s,onChangeTokens:a,onSearchAbandon:i,onSearchCompletion:t,tokens:j})}}),null);
__d("WorkMWChatHeaderNew.bs",["fbt","React","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={root:{position:"l9j0dhe7",display:"j83agx80",flexShrink:"pfnyh3mw",justifyContent:"i1fnvgqd",alignItems:"bp9cbjyn",overflowX:"ni8dbmo4",overflowY:"stjgntxs",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc",paddingStart:"tw6a2znq",paddingEnd:"d1544ag0",borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",backgroundColor:"nred35xi",height:"k7cz35w2",zIndex:"kavbgo14"},title:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",whiteSpace:"g0qnabr5",textOverflow:"ltmttdrg",fontWeight:"ekzkrbhg",color:"oo9gr5id"}};function a(a){return i.jsx("div",{children:i.jsx("div",{children:g._("Tin nh\u1eafn m\u1edbi"),className:(h||(h=b("stylex")))(j.title)}),className:h(j.root)})}c=a;f.styles=j;f.make=c}),null);
__d("MWChatTabContainerNew.bs",["fbt","bs_curry","React","gkx","qex","JSResource","stylex","bs_caml_option","CurrentUser","MWChatHeaderNew.bs","MWChatBlurNewTab.bs","MWChatCloseNewTab.bs","MWChatFocusNewTab.bs","BootloaderResource","WorkMWChatHeaderNew.bs","MWChatTabFocusHandler.bs","CometPlaceholder.react","MessengerWebEntryPoint","MWChatTabContainerShared.bs","MWChatHasSearchTabContent.bs","MWChatFocusComposerContext.bs","useCometConfirmationDialog","MWChatConfirmTabCloseDialog.bs","CometProgressRingIndeterminate.react","MWChatSearchTypeaheadContainer.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j={container:{height:"datstx6m",display:"j83agx80",position:"l9j0dhe7",flexDirection:"cbu4d94t",overflowX:"ni8dbmo4",overflowY:"stjgntxs",isolation:"fbhpx0h9"},searchInput:{flexShrink:"pfnyh3mw",minHeight:"tgvbjcpo",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchView:{boxShadow:"mvk8q8v6"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"}},k=(d=b("JSResource"))("MWChatTabNew.bs").__setRef("MWChatTabContainerNew.bs");function l(a,b,c,d,e,f,g,h,i){return{previewThreadID:a,isSearchView:b,isTabFocused:c,isFetching:d,hasContent:e,onOpenPreviewForUser:f,setTokens:g,tokens:h}}function m(a){return i.createElement(b("BootloaderResource").read(k).make,a)}e={reasonResource:k,makeProps:l,make:m};var n=d("WorkplaceChatTabNew.bs").__setRef("MWChatTabContainerNew.bs");function o(a,c,d,e,f,g){g={previewThreadID:a,isTabFocused:c,hasContent:e,tokens:f};d!==void 0&&(g.quickRepliesUI=b("bs_caml_option").valFromOption(d));return g}function p(a){return i.createElement(b("BootloaderResource").read(n).make,a)}var q={reasonResource:n,makeProps:o,make:p},r=d("WorkGalahadMWChatSearchTypeaheadContainer.bs").__setRef("MWChatTabContainerNew.bs");function s(a,b,c,d,e,f,g,h){return{tokens:a,onChangeTokens:b,onChangeIsFetching:c,onSearchAbandon:d,onClosePreview:e,onOpenPreviewForUser:f,onOpenPreviewForGroup:g}}function t(a){return i.createElement(b("BootloaderResource").read(r).make,a)}var u={reasonResource:r,makeProps:s,make:t},v=d("MWChatRHCSearchTypeahead.bs").__setRef("MWChatTabContainerNew.bs");function a(a,c){c={};a!==void 0&&(c.onEscape=b("bs_caml_option").valFromOption(a));return c}function w(a){return i.createElement(b("BootloaderResource").read(v).make,a)}d={reasonResource:v,makeProps:a,make:w};function c(a){var c=a.hasContent,d=a.isMultitab,e=a.isSearchView,f=a.isTabFocused,k=a.useSidebarChatStyles,n=a.searchInitialParticipant;a=d!==void 0?d:!1;d=k!==void 0?k:!1;var q=b("MWChatHasSearchTabContent.bs").useHook(0),r=b("MWChatCloseNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),u=b("MWChatFocusNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN),v=b("MWChatBlurNewTab.bs").useHook(b("MessengerWebEntryPoint").UNKNOWN);k=i.useState(function(){if(n!==void 0)return[b("bs_caml_option").valFromOption(n)];else return[]});var x=k[1],y=k[0];k=i.useState(function(){if(y.length!==1)return;else{var a=y[0];return[948354667,a.getRawData().id]}});var z=k[1];k=k[0];var A=function(a){return b("bs_curry")._1(z,function(b){return[948354667,a]})},B=i.useState(function(){return!1}),C=B[1],D=b("useCometConfirmationDialog")(),E=D[0],F=i.useCallback(function(a){if(b("bs_curry")._1(q,0))return b("bs_curry")._3(E,b("MWChatConfirmTabCloseDialog.bs").content,function(a){return b("bs_curry")._1(r,0)},function(a){return 0});else return b("bs_curry")._1(r,0)},[E,r]);D=b("qex")._("1586110");D=D==null?{}:{fontSize:String(D)+"px"};var G=b("CurrentUser").isWorkUser();return i.jsx("div",{children:i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsx(b("MWChatTabFocusHandler.bs").make,{onEscape:function(a){return b("bs_curry")._1(F,0)},onFocus:function(a){return b("bs_curry")._1(u,0)},onBlur:function(a){if(f)return b("bs_curry")._1(v,0);else return 0},children:i.jsxs("div",{children:[b("CurrentUser").isWorkUser()?i.jsx(b("WorkMWChatHeaderNew.bs").make,{}):i.jsx(b("MWChatHeaderNew.bs").make,{isTabFocused:f,closeChatTab:F,title:e?g._("T\u00ecm ki\u1ebfm tr\u00ean Messenger"):g._("Tin nh\u1eafn m\u1edbi")}),i.jsx("div",{children:G?i.jsx(t,s(y,x,function(a){return b("bs_curry")._1(C,function(b){return a})},function(a){return b("bs_curry")._1(F,0)},function(a){return b("bs_curry")._1(z,function(a){return})},A,function(a){return b("bs_curry")._1(z,function(b){return[757211935,a]})},0)):e?i.jsx(w,{onEscape:function(a){return b("bs_curry")._1(F,0)}}):i.jsx(b("MWChatSearchTypeaheadContainer.react"),{tokens:y,onChangeTokens:x,onChangeIsFetching:function(a){return b("bs_curry")._1(C,function(b){return a})},onSearchAbandon:function(a){return b("bs_curry")._1(F,0)},onClosePreview:function(a){return b("bs_curry")._1(z,function(a){return})},onOpenPreviewForUser:A,onOpenPreviewForGroup:function(a){return b("bs_curry")._1(z,function(b){return[757211935,a]})}}),className:(h||(h=b("stylex")))(j.searchInput,e?j.searchView:!1,b("gkx")("1526694")&&y.length===0?j.searchInputForContactsList:!1)}),i.jsx(b("CometPlaceholder.react"),{children:b("CurrentUser").isWorkUser()?i.jsx(p,o(k,f,void 0,c,y,0)):i.jsx(m,l(k,e,f,B[0],c,A,x,y,0)),fallback:b("gkx")("1526694")?i.jsx("div",{children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24}),className:(h||(h=b("stylex")))(j.spinner)}):null})],className:h(j.container)})})}),className:h(b("CurrentUser").isWorkUser()?b("MWChatTabContainerShared.bs").styles.workChatTab:b("MWChatTabContainerShared.bs").styles.chatTab,a?b("MWChatTabContainerShared.bs").styles.chatTabNoBottomRadius:!1,d?b("MWChatTabContainerShared.bs").styles.sidebarChatOverrides:!1,b("qex")._("1586109")?b("MWChatTabContainerShared.bs").styles.chatTabThin:!1),style:D},"local")}a=b("MWChatTabContainerShared.bs").styles;c=c;f.shareStyles=a;f.styles=j;f.LazyMWChatTabNew=e;f.LazyWorkplaceChatTabNew=q;f.LazyWorkGalahadMWChatSearchTypeaheadContainer=u;f.LazyMWChatRHCSearchTypeahead=d;f.make=c}),null);
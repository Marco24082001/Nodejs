if (self.CavalryLogger) { CavalryLogger.start_js(["Z7lgw"]); }

__d("StoriesCreateQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"satpScale"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b={alias:null,args:null,kind:"ScalarField",name:"comet_composer_video_uploader_config",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],e={enumValues:null,nullable:!0,plural:!1,type:"String"},f={enumValues:null,nullable:!0,plural:!1,type:"ID"},g={enumValues:null,nullable:!0,plural:!1,type:"Float"},h={enumValues:null,nullable:!0,plural:!1,type:"Image"},i={enumValues:null,nullable:!0,plural:!1,type:"Url"},j={enumValues:null,nullable:!0,plural:!1,type:"Color"};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"StoriesCreateQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[b],storageKey:null},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormSteps"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"StoriesCreateQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"websites",storageKey:null}],type:"Page",abstractKey:null}],storageKey:null},b],storageKey:null},{"if":null,kind:"Defer",label:"useStoriesCreateFormEditorRoot$defer$StoriesCreateFormSATP",selections:[{alias:null,args:[{kind:"Literal",name:"categories",value:["TEXT_BASE"]}],concreteType:"Collection",kind:"LinkedField",name:"visual_composer_satp_collections",plural:!0,selections:[{alias:null,args:null,concreteType:"TextFormatMetadata",kind:"LinkedField",name:"presets",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"preset_id",storageKey:null},{alias:null,args:null,concreteType:"InspirationsCustomFont",kind:"LinkedField",name:"inspirations_custom_font_object",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"font_postscript_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"font_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preferred_font_size",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"scale",variableName:"satpScale"}],concreteType:"Image",kind:"LinkedField",name:"portrait_background_image",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_gradient_direction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"custom_thumbnail",plural:!1,selections:d,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_description",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"collection_name",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:'visual_composer_satp_collections(categories:["TEXT_BASE"])'}]}]},params:{id:"2331148986987785",metadata:{relayPreloadable:!0,relayTestingSelectionTypeInfo:{viewer:{enumValues:null,nullable:!0,plural:!1,type:"Viewer"},"viewer.actor":{enumValues:null,nullable:!0,plural:!1,type:"Actor"},"viewer.actor.__typename":{enumValues:null,nullable:!1,plural:!1,type:"String"},"viewer.actor.address":{enumValues:null,nullable:!0,plural:!1,type:"StreetAddress"},"viewer.actor.address.single_line_full_address":e,"viewer.actor.all_phones":{enumValues:null,nullable:!1,plural:!0,type:"Phone"},"viewer.actor.all_phones.phone_number":{enumValues:null,nullable:!0,plural:!1,type:"PhoneNumber"},"viewer.actor.all_phones.phone_number.universal_number":e,"viewer.actor.id":f,"viewer.actor.location":{enumValues:null,nullable:!0,plural:!1,type:"Location"},"viewer.actor.location.latitude":g,"viewer.actor.location.longitude":g,"viewer.actor.name":e,"viewer.actor.profile_picture":h,"viewer.actor.profile_picture.uri":i,"viewer.actor.websites":{enumValues:null,nullable:!1,plural:!0,type:"Url"},"viewer.comet_composer_video_uploader_config":e,visual_composer_satp_collections:{enumValues:null,nullable:!1,plural:!0,type:"Collection"},"visual_composer_satp_collections.collection_name":{enumValues:null,nullable:!0,plural:!1,type:"TextWithEntities"},"visual_composer_satp_collections.collection_name.text":e,"visual_composer_satp_collections.presets":{enumValues:null,nullable:!1,plural:!0,type:"TextFormatMetadata"},"visual_composer_satp_collections.presets.background_color":j,"visual_composer_satp_collections.presets.background_description":e,"visual_composer_satp_collections.presets.background_gradient_color":j,"visual_composer_satp_collections.presets.background_gradient_direction":e,"visual_composer_satp_collections.presets.color":j,"visual_composer_satp_collections.presets.custom_thumbnail":h,"visual_composer_satp_collections.presets.custom_thumbnail.uri":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object":{enumValues:null,nullable:!0,plural:!1,type:"InspirationsCustomFont"},"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_postscript_name":e,"visual_composer_satp_collections.presets.inspirations_custom_font_object.font_url":i,"visual_composer_satp_collections.presets.inspirations_custom_font_object.id":f,"visual_composer_satp_collections.presets.inspirations_custom_font_object.preferred_font_size":{enumValues:null,nullable:!0,plural:!1,type:"Int"},"visual_composer_satp_collections.presets.portrait_background_image":h,"visual_composer_satp_collections.presets.portrait_background_image.uri":i,"visual_composer_satp_collections.presets.preset_id":f}},name:"StoriesCreateQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("StoriesCreateFormBodyWrapper_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:null,name:"StoriesCreateFormBodyWrapper_data",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormEditorRoot.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormEditorRoot",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateCTALink"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormSATP"}]},{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormSteps.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormSteps",selections:[{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormEditorRoot"},{args:null,kind:"FragmentSpread",name:"useStoriesCreateFormTypeChooser"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useStoriesCreateFormTypeChooser.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useStoriesCreateFormTypeChooser",selections:[{args:null,kind:"FragmentSpread",name:"StoriesCreateFormBodyWrapper_data"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("CircularProgressBar.react",["cx","React","createReactClass_DEPRECATED","prop-types"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React");a=b("createReactClass_DEPRECATED")({displayName:"CircularProgressBar",propTypes:{animate:b("prop-types").bool,percentComplete:b("prop-types").number.isRequired,text:b("prop-types").string},render:function(){var a=this.props,b=a.animate,c=a.text;a=a.percentComplete;var d=360*a/100,e=Math.max(d,180)-180;d=Math.min(d,180);var f=a<100?"1":"0";return h.jsxs("div",{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":a,className:"_1_bj",role:"progressbar",style:{opacity:f},children:[!!c&&h.jsx("div",{className:"_22sa",children:c}),h.jsx("div",{className:"_1_bk",children:h.jsxs("div",{className:b?"_22sb":"",children:[h.jsx("div",{className:"_1_bl",style:{opacity:f}}),h.jsx("div",{className:"_1_bp _1_bq",children:h.jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+e+"deg)",opacity:f}})}),h.jsx("div",{className:"_1_bs _1_bq",children:h.jsx("div",{className:"_1_br",style:{transform:"translateX(-100%) rotate("+d+"deg)",opacity:f}})})]})})]})}});e.exports=a}),null);
__d("CollageItemFallback.react",["ix","CircularProgressBar.react","CometImage.react","React","TetraText.react","asset","qex","stylex"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React");function a(a){var c=a.filename,d=a.fileType;a=a.percentComplete;c=c!=null?c:void 0;var e=b("qex")._("1138950");return i.jsxs("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t datstx6m cbu4d94t j83agx80 rq0escxv qsy8amke bp9cbjyn n5ue3fu6",children:[i.jsx("div",{className:(h||(h=b("stylex"))).dedupe(e===!0?{"display-1":"j83agx80","margin-bottom-1":"qacpv2si","margin-top-1":"f0zqjlou"}:{"display-1":"j83agx80","margin-bottom-1":"n851cfcs"}),children:i.jsx(b("CometImage.react"),{alt:c,draggable:!1,src:d==="VIDEO"?g("567270"):g("557364")})}),a!=null&&i.jsx(b("CircularProgressBar.react"),{percentComplete:a*100}),i.jsx(b("TetraText.react"),{numberOfLines:1,type:"meta1",children:c})]})}}),null);
__d("StoriesCreateMediaUploaderContext",["React"],(function(a,b,c,d,e,f){"use strict";a=b("React");c={uploader:null};e.exports=a.createContext(c)}),null);
__d("withStoriesCreateViewStatePart",["React","StoriesCreateViewStateContext","withSomeContext"],(function(a,b,c,d,e,f){"use strict";e.exports=a;b("React");function a(a,c){return b("withSomeContext")(a,b("StoriesCreateViewStateContext"),c)}}),null);
__d("StoriesComposerCometHeadlessMediaUploader.react",["CometPlaceholder.react","JSResource","React","StoriesCreateMediaUploaderContext","StoriesCreateViewStateDispatcherContext","lazyLoadComponent","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResource")("CometComposerHeadlessMediaUploaderImpl.react").__setRef("StoriesComposerCometHeadlessMediaUploader.react"));function a(a){var c=a.mediaAttachments;a=a.mediaUploadStatuses;var d=g.useContext(b("StoriesCreateViewStateDispatcherContext")),e=g.useContext(b("StoriesCreateMediaUploaderContext"));e=e.uploader;if(e==null)return null;return c!==null?g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx("div",{}),children:g.jsx(h,{composerUploader:e,dispatch:d,mediaAttachments:c,mediaUploadStatuses:a,useOptimisticMediaPost:!1})}):null}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses}});e.exports=c}),null);
__d("StoriesCreateMediaReducer",["composerMediaAttachmentReducer"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){switch(c.type){case"ADD_MEDIA_ATTACHMENT_ITEMS":case"REMOVE_MEDIA_ATTACHMENT_ITEM":case"REMOVE_ALL_MEDIA_ATTACHMENT_ITEMS":case"MEDIA_ATTACHMENT_CLIENT_PROCESSING_COMPLETED":case"QUEUE_UPLOADS":case"MARK_UPLOADS_CLIENT_PROCESSING":case"MARK_UPLOADS_AS_PHOTO":case"MEDIA_UPLOAD_STARTED":case"MEDIA_UPLOAD_PROGRESS":case"MEDIA_UPLOAD_SUCCESSFUL":case"REORDER_MEDIA_ATTACHMENT_ITEM":case"SAVE_PHOTO_EDITS":case"SET_MEDIA_ATTACHMENT_CAPTION":case"SET_MEDIA_ATTACHMENT_ITEM_USE_CDN_PREVIEW":case"SET_MEDIA_ATTACHMENT_ITEM_CDN_DIMENSIONS":case"SET_MEDIA_ATTACHMENT_ITEM_DIMENSIONS":case"SET_PHOTO3D_CREATION_DATA":c=c;c=b("composerMediaAttachmentReducer")({mediaAttachments:a.mediaAttachments,mediaUploadStatuses:a.mediaUploadStatuses},c);var d=c.mediaAttachments;c=c.mediaUploadStatuses;return babelHelpers["extends"]({},a,{mediaAttachments:d,mediaUploadStatuses:c})}return a}}),null);
__d("useStoriesCreateReducer",["StoriesCreateViewStateReducersContext","useContextRef"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a){return b("useContextRef")(a,b("StoriesCreateViewStateReducersContext"))}}),null);
__d("StoriesCreateMediaSelector.react",["ix","fbt","CometFileSelector.react","CometImageFromIXValue.react","CometPressable.react","React","StoriesCreateConstants","StoriesCreateMediaReducer","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","asset","cometPushToast","fbicon","fileInputAcceptValues","isMimeTypeForMedia","stylex","useFileDragEvents","useStoriesCreateReducer"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React"),j=2;function a(a){var c=a.onFilesSelect;b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));var d=i.useContext(b("StoriesCreateViewStateDispatcherContext"));a=i.useCallback(function(a){if(a.length>0){var e=Array.from(a);for(var f=0;f<a.length;f++){var g=a[f].type;g=!(b("isMimeTypeForMedia").isMimeTypeForVideo(g)&&b("StoriesGating").isCometStoriesVideoProductionEnabled())&&!b("isMimeTypeForMedia").isMimeTypeForPhoto(g);if(g){g=b("StoriesGating").isCometStoriesVideoProductionEnabled()?h._("Lo\u1ea1i file n\u00e0y kh\u00f4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\u00f2ng ch\u1ecdn \u1ea3nh ho\u1eb7c video."):h._("Lo\u1ea1i file n\u00e0y kh\u00f4ng \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3. Vui l\u00f2ng ch\u1ecdn \u1ea3nh.");b("cometPushToast").cometPushErrorToast({message:g});return}}d({files:e,type:"ADD_MEDIA_ATTACHMENT_ITEMS"});c(e.map(function(a){return a.type}))}},[d,c]);b("useFileDragEvents")(a);var e=b("fileInputAcceptValues").PHOTO,f=h._("T\u1ea1o tin \u1ea3nh");b("StoriesGating").isCometStoriesVideoProductionEnabled()&&(e=e.concat(b("fileInputAcceptValues").VIDEO),f=h._("T\u1ea1o tin \u1ea3nh\/video"));var k=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,l=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH;return i.jsx(b("CometFileSelector.react"),{accept:e,onFilesSelected:a,children:function(a){return i.jsx(b("CometPressable.react"),{display:"inline",label:h._("T\u1ea3i \u1ea3nh l\u00ean"),onPress:a,overlayDisabled:!0,testid:void 0,children:i.jsxs("div",{className:"l9j0dhe7 jm1wdb64 pfnyh3mw kb5gq1qc cbu4d94t j83agx80 l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 bp9cbjyn",style:{height:k,width:l-j},children:[i.jsx("div",{className:"kr520xx4 j9ispegn pmk7jnqg n7fi1qx3 i09qtzwb",style:{height:k,width:l},children:i.jsx(b("CometImageFromIXValue.react"),{source:g("1394933")})}),i.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 o8rfisnq bp9cbjyn",children:i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("481799"),20),size:20})}),i.jsx("div",{className:"k4urcfbm hq1mf54v oqcyycmt l9j0dhe7 lt9micmv gl4o1x5y taijpn5t fdgqbs4u n3ffmt46 qo0gs2wv j83agx80 ljqsnud1 rq0escxv",children:f})]})})}})}}),null);
__d("StoriesCreateNullStateView.react",["ix","fbt","CometImage.react","CometPressable.react","QuickPerformanceLogger","React","StoriesCreateConstants","StoriesCreateMediaSelector.react","StoriesCreateViewStateDispatcherContext","StoriesGating","TetraIcon.react","asset","fbicon","isMimeTypeForMedia","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i=b("React");function a(){var a=i.useContext(b("StoriesCreateViewStateDispatcherContext")),c=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_HEIGHT,d=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SELECTION_TILE_WIDTH,e=b("StoriesCreateConstants").NULL_STATE_DIMENSIONS.SPACE_BETWEEN_SELECTOR;i.useEffect(function(){b("QuickPerformanceLogger").markerEnd(13238400,2)},[]);return i.jsxs("div",{className:"i1fnvgqd j83agx80",style:{width:2*d+e},children:[i.jsx(b("StoriesCreateMediaSelector.react"),{onFilesSelect:function(c){var d="photo";b("StoriesGating").isCometStoriesVideoProductionEnabled()&&b("isMimeTypeForMedia").isMimeTypeForVideo(c[0])&&(d="video");a({formData:{mediaType:d,step:1},type:"step"})}}),i.jsx(b("CometPressable.react"),{hideHoverOverlay:!0,onPress:function(){a({formData:{mediaType:"satp",step:1},type:"step"})},children:i.jsxs("div",{className:"cbu4d94t j83agx80 bp9cbjyn","data-testid":void 0,style:{height:c,width:d},children:[i.jsx("div",{className:"k4urcfbm pmk7jnqg stjgntxs ni8dbmo4 datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",children:i.jsx(b("CometImage.react"),{height:c,src:g("1394934"),width:d})}),i.jsx("div",{className:"eim337gk op20o8eh l9j0dhe7 taijpn5t qu8okrzs j83agx80 sz7gx65s spb7xbtv bkmhp75w emlxlaya s45kfl79 cwj9ozl2 bp9cbjyn",children:i.jsx(b("TetraIcon.react"),{color:"primary",icon:b("fbicon")._(g("486064"),20),size:20})}),i.jsx("div",{className:"hq1mf54v l9j0dhe7 n3ffmt46 qo0gs2wv ljqsnud1",children:h._("T\u1ea1o tin d\u1ea1ng v\u0103n b\u1ea3n")})]})})]})}}),null);
__d("StoriesCreatePhotoPreviewFrame.react",["React","stylex"],(function(a,b,c,d,e,f){"use strict";var g=b("React");function a(a,b){var c=a.children,d=a.frameWidth;a=a.rounded;a=a===void 0?!1:a;return g.jsx("div",{className:"pmk7jnqg hzruof5a datstx6m",children:g.jsx("div",{className:"hzruof5a datstx6m",style:{width:d+"px"},children:g.jsx("div",{className:"pmk7jnqg datstx6m rq0escxv ddn55etz todgtsvd mher9iwd okr6w53f"+(a?" l82x9zwi uo3d90p7 pw54ja7n ue3kfks5":""),ref:b,style:{width:d+"px"},children:c})})})}c=g.forwardRef(a);e.exports=c}),null);
__d("useStoriesCreatePreviewDimensions",["CometRouteRenderType","StoriesCreateConstants","useCometWindowSize"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c){var d,e=(d=b("StoriesCreateConstants")).PREVIEW_DIMENSIONS.COMET_PUSH_VIEW_HEIGHT,f=d.PREVIEW_DIMENSIONS.COMET_TOP_BAR_HEIGHT,g=d.PREVIEW_DIMENSIONS.CONTAINER_HORIZONTAL_PADDING,h=d.PREVIEW_DIMENSIONS.CONTAINER_MAX_WIDTH,i=d.PREVIEW_DIMENSIONS.CONTAINER_VERTICAL_PADDING,j=d.PREVIEW_DIMENSIONS.CONTENT_HEADER_HEIGHT,k=d.PREVIEW_DIMENSIONS.CONTENT_HORIZONTAL_PADDING,l=d.PREVIEW_DIMENSIONS.CONTENT_VERTICAL_PADDING;d=d.PREVIEW_DIMENSIONS.SIDE_PANE_WIDTH;var m=b("CometRouteRenderType").useIsPushView(),n=b("useCometWindowSize")(),o=n.innerHeight;n=n.innerWidth;h=Math.min(h,n-g-k-d);n=o-i-l-j-a-c;n-=m?e:f;return{containerRectHeight:n,containerRectWidth:h}}}),null);
__d("useStoriesCreateMediaFrame",["React","useStoriesCreatePreviewDimensions"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(a){a=a===void 0?{}:a;var c=a.footerHeight;a=a.headerHeight;var d=g.useState(0),e=d[0],f=d[1];d=g.useState(0);var h=d[0],i=d[1];d=b("useStoriesCreatePreviewDimensions")((d=a)!=null?d:0,(a=c)!=null?a:0);var j=d.containerRectHeight,k=d.containerRectWidth;g.useEffect(function(){var a=j*.5625;i(a);f(Math.max(k-a,0)/2)},[j,k]);return{border:e,containerRectHeight:j,containerRectWidth:k,frameWidth:h}}}),null);
__d("useStoriesCreatePhotoFrame",["StoriesCreateConstants","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(){return b("useStoriesCreateMediaFrame")({footerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,headerHeight:b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT})}}),null);
__d("StoriesCreatePhotoPreviewPlaceholder.react",["CollageItemFallback.react","Locale","React","StoriesCreateConstants","StoriesCreatePhotoPreviewFrame.react","stylex","useStoriesCreatePhotoFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=b("React");function a(){var a=b("Locale").isRTL(),c=b("useStoriesCreatePhotoFrame")();c=c.frameWidth;var d=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,e=b("StoriesCreateConstants").PHOTO_PREVIEW_DIMENSIONS.HEADER_HEIGHT;return h.jsx("div",{className:"k4urcfbm kr520xx4 pmk7jnqg i09qtzwb l82x9zwi uo3d90p7 pw54ja7n ue3kfks5 tqsryivl",children:h.jsxs("div",{className:(g||(g=b("stylex"))).dedupe({"border-top-start-radius-1":"ue3kfks5","border-top-end-radius-1":"pw54ja7n","border-bottom-end-radius-1":"uo3d90p7","border-bottom-start-radius-1":"l82x9zwi","display-1":"j83agx80","height-1":"alt01wi3","justify-content-1":"taijpn5t","overflow-x-1":"ni8dbmo4","overflow-y-1":"stjgntxs","position-1":"pmk7jnqg","start-1":"kfkz5moi","transform-0.1":"cj5g2342"},a?{"transform-0.1":"lcn5fozr"}:null),style:{height:"calc(100% - "+(d+e)+"px",top:e+"px",width:c},children:[h.jsx("div",{className:"k4urcfbm",children:h.jsx(b("CollageItemFallback.react"),{fileType:"PHOTO"})}),h.jsx(b("StoriesCreatePhotoPreviewFrame.react"),{frameWidth:c})]})})}}),null);
__d("StoriesCreatePreviewPlaceholder.react",["BaseGlimmer.react","React","StoriesCreateConstants","stylex","useStoriesCreateMediaFrame"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){var a=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.FOOTER_HEIGHT,c=b("StoriesCreateConstants").SATP_PREVIEW_DIMENSIONS.HEADER_HEIGHT;a=b("useStoriesCreateMediaFrame")({footerHeight:a,headerHeight:c});c=a.frameWidth;return g.jsx("div",{className:"k4urcfbm kr520xx4 j9ispegn pmk7jnqg taijpn5t datstx6m cbu4d94t j83agx80 tqsryivl bp9cbjyn",children:g.jsx("div",{className:"l9j0dhe7 stjgntxs ni8dbmo4 n1l5q3vz n851cfcs datstx6m l82x9zwi uo3d90p7 pw54ja7n ue3kfks5",style:{width:c+"px"},children:g.jsx(b("BaseGlimmer.react"),{className:"k4urcfbm datstx6m",index:0})})})}}),null);
__d("StoriesCreatePreviewRoot.react",["CometPlaceholder.react","CometRelay","CometUFIVideoPlayerUtils","JSResourceForInteraction","React","StoriesCreatePhotoPreviewPlaceholder.react","StoriesCreatePreviewPlaceholder.react","StoriesCreatePreviewUtils","lazyLoadComponent","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f){"use strict";var g=b("React"),h=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreatePhotoPreview.react",{"class":"fluid",name:"Stories Create Photo",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react")),i=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateSATPPreview.react",{"class":"fluid",name:"Stories Create SATP",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react")),j=b("lazyLoadComponent")(b("JSResourceForInteraction")("StoriesCreateVideoPreview.react",{"class":"fluid",name:"Stories Create Video",oncall:"fb_stories_web"}).__setRef("StoriesCreatePreviewRoot.react"));function a(a){a=a.mediaType;if(a==="photo")return g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("StoriesCreatePhotoPreviewPlaceholder.react"),{}),children:g.jsx(h,{})});else if(a==="video")return g.jsx(b("CometPlaceholder.react"),{fallback:null,children:g.jsx(b("CometUFIVideoPlayerUtils").CometUFIVideoPlayerStateAndControllerContextProvider,{children:g.jsx(j,{})})});else return g.jsx(b("CometRelay").RelayEnvironmentProvider,{environment:b("StoriesCreatePreviewUtils").storiesCreatePreviewEnvironment,children:g.jsx(b("CometPlaceholder.react"),{fallback:g.jsx(b("StoriesCreatePreviewPlaceholder.react"),{}),children:g.jsx(i,{})})})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);
__d("StoriesCreateFormReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){switch(b.type){case"step":return babelHelpers["extends"]({},a,{formData:b.formData})}return a}}),null);
__d("StoriesCreateFormBodyPlaceholder.react",["React"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsx("div",{})}}),null);
__d("StoriesCreateFormBodyWrapper.react",["ix","fbt","CometPlaceholder.react","CometRelay","React","StoriesCreateFormBodyPlaceholder.react","TetraListCell.react","asset","stylex","StoriesCreateFormBodyWrapper_data.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";e.exports=a;var i,j=b("React"),k=i!==void 0?i:i=b("StoriesCreateFormBodyWrapper_data.graphql");function a(a){var c,d=a.children;a=a.dataRef;a=b("CometRelay").useFragment(k,a);a=a==null?void 0:(a=a.viewer)==null?void 0:a.actor;c=a==null?void 0:(c=a.profile_picture)==null?void 0:c.uri;var e=h._("{name of the stories creator}",[h._param("name of the stories creator",a==null?void 0:a.name)]);(a==null?void 0:a.name)==null&&(e=h._("Ng\u01b0\u1eddi \u0111\u0103ng tin"));return j.jsxs(j.Fragment,{children:[j.jsx(b("TetraListCell.react"),{addOnPrimary:{shape:"circle",size:60,source:{uri:(a=c)!=null?a:g("762679")},type:"profile-photo"},headline:e}),j.jsx("div",{className:"jei6r52m ay7djpcl bfjqzvhc"}),j.jsx(b("CometPlaceholder.react"),{fallback:j.jsx(b("StoriesCreateFormBodyPlaceholder.react"),{}),children:j.jsx("div",{className:"k4urcfbm dati1w0a hv4rvrfc taijpn5t g5gj957u buofh1pr cbu4d94t rj1gh0hx j83agx80 rq0escxv",children:d})})]})}}),null);
__d("StoriesCreateFormPhotoPlaceholder.react",["CometListItemGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsx("div",{className:"jbcpqwzg aov4n071 fop5sh7t",children:g.jsx(b("CometListItemGlimmer.react"),{imageSize:48,imageStyle:"circle"})})}}),null);
__d("StoriesCreateFormSATPPlaceholder.react",["BaseGlimmer.react","React","stylex"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g=b("React");function a(){return g.jsxs("div",{className:"rm0tqlba",children:[g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 se0szajb kzx2olss aot14ch1 p86d2i9g beltcj47",index:0,theme:"dark"}),g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 e5d9fub0 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"}),g.jsx(b("BaseGlimmer.react"),{className:"tr9rh885 i7t6db18 kzx2olss aot14ch1 p86d2i9g beltcj47",index:1,theme:"dark"})]})}}),null);
__d("StoriesCreateSATPReducer",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c=a.satpData;c==null&&(c={background:null,backgroundColor:null,backgroundGradientColor:null,backgroundGradientDirection:null,fontColor:null,fontID:null,fontName:null,fontUrl:null,inputError:!1,presetID:null,text:""});switch(b.type){case"satp_update_text":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!1,text:b.text})});case"satp_update_background":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{background:b.background,backgroundColor:b.backgroundColor,backgroundGradientColor:b.backgroundGradientColor,backgroundGradientDirection:b.backgroundGradientDirection,fontColor:b.fontColor,presetID:b.presetID})});case"satp_update_font":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{fontID:b.fontID,fontName:b.fontName,fontUrl:b.fontUrl})});case"satp_update_input_error":return babelHelpers["extends"]({},a,{satpData:babelHelpers["extends"]({},c,{inputError:!0})})}return a}}),null);
__d("useStoriesCreateFormEditorRoot",["fbt","CometPlaceholder.react","CometRelay","JSResource","React","StoriesCreateFormPhotoPlaceholder.react","StoriesCreateFormSATPPlaceholder.react","StoriesCreateSATPReducer","lazyLoadComponent","requireCond","cr:1448152","StoriesCreateViewStateContext","StoriesCreateSettingButton.react","StoriesCreateFormBodyWrapper.react","useStoriesCreateReducer","useStoriesCreateFormEditorRoot.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormSATP.react").__setRef("useStoriesCreateFormEditorRoot")),k=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormPhoto.react").__setRef("useStoriesCreateFormEditorRoot")),l=b("lazyLoadComponent")(b("JSResource")("StoriesCreateFormVideo.react").__setRef("useStoriesCreateFormEditorRoot")),m=h!==void 0?h:h=b("useStoriesCreateFormEditorRoot.graphql");function a(a){var c=i.useContext(b("StoriesCreateViewStateContext"));a=b("CometRelay").useFragment(m,a);b("useStoriesCreateReducer")(b("StoriesCreateSATPReducer"));c=c.formData;var d=i.jsx("div",{children:g._("C\u1ea6N TH\u1ef0C HI\u1ec6N (B\u01b0\u1edbc 2)")});switch(c==null?void 0:c.mediaType){case"satp":d=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("StoriesCreateFormSATPPlaceholder.react"),{}),children:i.jsx(j,{satp:a})})});break;case"photo":d=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(b("CometPlaceholder.react"),{fallback:i.jsx(b("StoriesCreateFormPhotoPlaceholder.react"),{}),children:i.jsx(k,{dataRef:a})})});break;case"video":d=i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx(l,{})})}return{body:d,footer:i.jsx(b("cr:1448152"),{}),hideBreadcrumb:!0,title:g._("Tin c\u1ee7a b\u1ea1n"),titleAddOn:i.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormTypeChooser",["fbt","CometRelay","React","StoriesCreateFormBodyWrapper.react","StoriesCreateSettingButton.react","useStoriesCreateFormTypeChooser.graphql"],(function(a,b,c,d,e,f,g){"use strict";e.exports=a;var h,i=b("React"),j=h!==void 0?h:h=b("useStoriesCreateFormTypeChooser.graphql");function a(a){a=b("CometRelay").useFragment(j,a);return{body:i.jsx(b("StoriesCreateFormBodyWrapper.react"),{dataRef:a,children:i.jsx("div",{})}),footer:i.jsx("div",{}),hideBreadcrumb:!0,title:g._("Tin c\u1ee7a b\u1ea1n"),titleAddOn:i.jsx(b("StoriesCreateSettingButton.react"),{})}}}),null);
__d("useStoriesCreateFormSteps",["CometRelay","StoriesCreateFormReducer","useStoriesCreateFormEditorRoot","useStoriesCreateFormTypeChooser","useStoriesCreateReducer","useStoriesCreateFormSteps.graphql"],(function(a,b,c,d,e,f){"use strict";e.exports=a;var g,h=g!==void 0?g:g=b("useStoriesCreateFormSteps.graphql");function a(a){b("useStoriesCreateReducer")(b("StoriesCreateFormReducer"));a=b("CometRelay").useFragment(h,a);var c=b("useStoriesCreateFormTypeChooser")(a);a=b("useStoriesCreateFormEditorRoot")(a);return[c,a]}}),null);
__d("StoriesCreate.react",["fbt","Actor","CometCreationLayout.react","CometRelay","ComposerMediaFileUploader","FBLogger","NullStateMedia","React","StoriesComposerCometHeadlessMediaUploader.react","StoriesCreateMediaReducer","StoriesCreateMediaUploaderContext","StoriesCreateNullStateView.react","StoriesCreatePreviewRoot.react","TetraNullState.react","XCometStoriesCreateControllerRouteBuilder","cometComposerLogger","useRoutePassthroughProps","useStoriesCreateFormSteps","useStoriesCreateReducer","withStoriesCreateViewStatePart","StoriesCreateQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=b("React"),j=h!==void 0?h:h=b("StoriesCreateQuery.graphql");function a(a){var c=a.composerSessionID,d=a.queryReference;a=a.step;var e=b("Actor").useActor(),f=e[0];e=i.useState({uploader:null});var h=e[0],k=e[1];e=b("CometRelay").usePreloadedQuery(j,d);b("useStoriesCreateReducer")(b("StoriesCreateMediaReducer"));var l=b("useRoutePassthroughProps")();i.useEffect(function(){var a=l&&l.entryPoint!=null&&l.sourceSurface!=null?{composerEntryPointName:String(l.entryPoint),composerSourceSurface:String(l.sourceSurface),composerType:"stories"}:{composerEntryPointName:"add_to_story_stories_surface",composerSourceSurface:"newsfeed",composerType:"stories"};b("cometComposerLogger")({fields:a,type:"COMPOSER_ENTRY"},c)},[]);var m=e==null?void 0:(d=e.viewer)==null?void 0:d.comet_composer_video_uploader_config,n=i.useMemo(function(){if(m==null)return{};try{return JSON.parse(m)}catch(a){b("FBLogger")("fbstories").info("Failed to parse JSON in video uploader config");return{}}},[m]);i.useEffect(function(){var a=new(b("ComposerMediaFileUploader"))(f,n,c,!1);a.photoUploader.setOption("handleErrorAfterUnload",!0);a.photoUploader.setUploadData(babelHelpers["extends"]({},a.photoUploader.getUploadData(),{waterfallxapp:"comet_stories"}));k({uploader:a})},[f,c,n]);d=b("useStoriesCreateFormSteps")(e);e={creationCategoryName:g._("Tin"),creationCategoryURL:b("XCometStoriesCreateControllerRouteBuilder").buildURL({}),currentFormStep:a,formAreaTitle:g._("D\u1ea1ng c\u1ee7a quy tr\u00ecnh t\u1ea1o tin"),formSteps:d,previewAreaTitle:g._("Xem tr\u01b0\u1edbc quy tr\u00ecnh t\u1ea1o tin"),previewContainerProps:{allowFocus:!0,hasResponsiveToggle:!1}};if(a===0){e=babelHelpers["extends"]({},e,{previewNullState:i.jsx(b("StoriesCreateNullStateView.react"),{})});return i.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))}else e=babelHelpers["extends"]({},e,{preview:i.jsx(b("StoriesCreatePreviewRoot.react"),{}),previewErrorFallback:function(){return i.jsx(b("TetraNullState.react"),{headline:g._("T\u1ea1o tin"),icon:b("NullStateMedia")})}});return i.jsxs(b("StoriesCreateMediaUploaderContext").Provider,{value:h,children:[i.jsx(b("StoriesComposerCometHeadlessMediaUploader.react"),{}),i.jsx(b("CometCreationLayout.react"),babelHelpers["extends"]({},e))]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,step:((a=a.formData)==null?void 0:a.step)||0}});e.exports=c}),null);
__d("StoriesCreateFormExitUtils",["StoriesCreateConstants"],(function(a,b,c,d,e,f){"use strict";a=function(a){var c=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT,d=b("StoriesCreateConstants").LEAVE_TEXT.PHOTO;switch(a){case"photo":case"satp":return{body:d.BODY,title:d.TITLE};default:return{body:c.BODY,title:c.TITLE}}};f.exitDialogInformation=a}),null);
__d("StoriesCreateOverlayUtils",["FBStoriesCometProductionSitevarConfig","uuid"],(function(a,b,c,d,e,f){"use strict";f.textOverlayDomID=g;f.cloneOverlayNode=a;function g(a){return"a"+a}function a(a){if((a.textOverlays==null||a.textOverlays.overlays.length===0)&&(a.stickerData==null||a.stickerData.stickers.length===0))return null;var c=a.overlayRef;c=c.current;if(c==null)return null;a=((a=a.textOverlays)==null?void 0:a.overlays.map(function(a){return g(a.id)}))||[];var d=c.cloneNode(!0);c=c.getBoundingClientRect();d.style.width=c.width+"px";d.style.height=c.height+"px";d.style.position="absolute";d.style.top="-16000px";d.style.zIndex="-10000";var e=b("FBStoriesCometProductionSitevarConfig").fontOffsets;c=a.map(function(a){return d.querySelector("#"+a)}).filter(Boolean);c.forEach(function(a){a.id=g(b("uuid")());var c=a.style.fontFamily.replace(/\"/g,"");c=e[c];if(c==null)return;var d=a.style.transform,f=/translateX\(calc\(([^\)]+)\)\) /;f=d.match(f);var h=/translateY\(calc\(([^\)]+)\)\) /;h=d.match(h);var i=/rotate\((.+)deg\)/;i=d.match(i);i=90+(i!=null&&i.length>=2?parseFloat(i[1]):0);d=d;if(f!=null&&f.length>=2){f=f[1];var j=c*Math.cos(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}if(h!=null&&h.length>=2){f=h[1];j=c*Math.sin(i*Math.PI/180);d=d.replace(f,f+" + "+j+"em")}a.style.transform=d});return d}}),null);
__d("ctaValidator",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){var c;if(((c=a.formData)==null?void 0:c.mediaType)==="satp"&&(((c=a.satpData)==null?void 0:c.text)==null||a.satpData.text.trim().length===0)){b({type:"satp_update_input_error"});return!1}return!0}}),null);
__d("satpValidator",[],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,b){a=a.ctaLinkData;var c=a.ctaType;a=a.link;if(c!=null&&(a===""||a==null)){b({error:!0,type:"CTA_UPDATE_LINK_INPUT_ERROR"});return!1}return!0}}),null);
__d("storiesCreateFormValidationUtils",["ctaValidator","satpValidator"],(function(a,b,c,d,e,f){"use strict";a=function(a){return a.some(function(a){return(a=a)!=null?a:!1})};f.useFormHasErrors=a;c=function(a,c,d){var e=b("ctaValidator")(a,c);a=b("satpValidator")(a,c);e&&a&&d()};f.validateForm=c}),null);
__d("useStoriesCreateFormExitConfirmation",["StoriesCreateConstants","useOnBeforeUnload"],(function(a,b,c,d,e,f){"use strict";e.exports=a;function a(a,c,d){b("useOnBeforeUnload")(function(){if(a)return;var e=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return{primaryButtonLabel:e.CONFIRM,secondaryButtonLabel:e.CANCEL,title:c,warnMessage:d}})}}),null);
__d("StoriesCreateFormFooterBase.react",["fbt","Actor","CometRelay","QuickPerformanceLogger","React","StoriesCreateConstants","StoriesCreateFormExitUtils","StoriesCreateMediaUploaderContext","StoriesCreateOverlayUtils","StoriesCreateViewStateContext","StoriesCreateViewStateDispatcherContext","TetraButton.react","requireDeferred","storiesCreateFormValidationUtils","stylex","useCometConfirmationDialog","useNotificationsTrackingString","usePrevious","useStoriesCreateFormExitConfirmation","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g){"use strict";var h=b("React"),i=b("requireDeferred")("StoriesCreateMutation");function a(a){var c=a.mediaType,d=a.onError,e=a.onNavigate,f=a.onSuccess,j=a.qplEvent,k=b("CometRelay").useRelayEnvironment(),l=h.useContext(b("StoriesCreateViewStateContext")),m=h.useContext(b("StoriesCreateViewStateDispatcherContext"));a=b("Actor").useActor();var n=a[0];a=h.useState(!1);var o=a[0],p=a[1],q=b("usePrevious")(o),r=b("useNotificationsTrackingString")();a=h.useContext(b("StoriesCreateMediaUploaderContext"));var s=a.uploader,t=h.useCallback(function(){var a=b("StoriesCreateOverlayUtils").cloneOverlayNode(l);if(s==null)return;i.onReady(function(b){b.createStories(l,n,k,s,a,j,function(a){return d(t)},f,r)})},[n,k,d,f,j,r,s,l]);a=b("useCometConfirmationDialog")();var u=a[0];a=b("storiesCreateFormValidationUtils").useFormHasErrors([l.ctaLinkData.linkInputError,((a=l.mediaAttachments)==null?void 0:(a=a[0])==null?void 0:a.fileType)==="PHOTO"&&((a=l.photoData)==null?void 0:a.displayedURI)==null,(a=l.satpData)==null?void 0:a.inputError]);var v=h.useMemo(function(){return b("StoriesCreateFormExitUtils").exitDialogInformation(c)},[c]);h.useEffect(function(){q===!1&&o===!0&&(j!=null&&(b("QuickPerformanceLogger").markerEnd(j,4),b("QuickPerformanceLogger").markerStart(j)),t(),e())},[t,o,e,j,q]);b("useStoriesCreateFormExitConfirmation")(o,v.title,v.body);var w=function(){b("storiesCreateFormValidationUtils").validateForm(l,m,function(){p(!0)})},x=b("StoriesCreateConstants").LEAVE_TEXT.DEFAULT;return h.jsxs("div",{className:"dati1w0a hv4rvrfc i1fnvgqd rdkrh8wx btwxx1t3 j83agx80 kmp5kqmu cwj9ozl2 bp9cbjyn",children:[h.jsx("div",{className:"cp6p5cpd qypqp5cg",children:h.jsx(b("TetraButton.react"),{disabled:o,label:x.CONFIRM,onPress:function(){u({body:v.body,cancel:x.CANCEL,confirm:x.CONFIRM,title:v.title},function(){m({type:"restart"})})},size:"large",type:"secondary"})}),h.jsx("div",{className:"cp6p5cpd qypqp5cg",children:h.jsx(b("TetraButton.react"),{disabled:a||o,label:g._("Chia s\u1ebb l\u00ean tin"),onPress:w,size:"large"})})]})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);
__d("StoriesCreateFormFooter.react",["ix","fbt","CometRouteRenderType","React","StoriesCreateFormFooterBase.react","TetraIcon.react","XCometStoriesControllerRouteBuilder","cometPushToast","fbicon","useCometRouterDispatcher","withStoriesCreateViewStatePart"],(function(a,b,c,d,e,f,g,h){"use strict";var i=b("React");function a(a){var c=a.composerSessionID;a=a.mediaType;var d=b("useCometRouterDispatcher")(),e=b("CometRouteRenderType").useIsPushView(),f=function(){if(d==null)return;if(e&&d.popPushView){d.popPushView();return}var a={composerSessionID:c},f=b("XCometStoriesControllerRouteBuilder").buildURL({});d.go(f,{passthroughProps:a,target:"self"})},j=function(a){b("cometPushToast").cometPushToast({action:{label:h._("Th\u1eed l\u1ea1i"),onPress:a},icon:i.jsx(b("TetraIcon.react"),{color:"negative",icon:b("fbicon")._(g("681772"),24)}),message:h._("Kh\u00f4ng th\u1ec3 t\u1ea3i \u1ea3nh l\u00ean tin")},1e4)},k=void 0;switch(a){case"photo":k=13238398;break;case"satp":k=13238399;break}a=function(){};return i.jsx(b("StoriesCreateFormFooterBase.react"),{onError:j,onNavigate:f,onSuccess:a,qplEvent:k})}c=b("withStoriesCreateViewStatePart")(a,function(a){return{composerSessionID:a.composerSessionID,mediaType:(a=a.formData)==null?void 0:a.mediaType}});e.exports=c}),null);